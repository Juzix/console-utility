var mocha = require('mocha');
var expect = require('chai').expect;
var util = require('../index.js');
var skip = it.skip;


describe("开始客户端公共功能测试...", function () {

    it('01 测试将rawTx数据转为RLP编码：rlp', function (done) {
        var rawTx = {
            gasPrice: 21000000000,
            gasLimit: 9999999999,
            value: 0,
            nonce: 0x00,
            to: "0x1176fd5dc45001002eb2b893e5ef7c4884756407",
            data: "0xb1498e290000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000018a7b226964223a227371732d31222c226e616d65223a22535153222c22706172656e744964223a2261646d696e222c226465736372697074696f6e223a22626c6f636b636861696e20706c6174222c22636f6d6d6f6e4e616d65223a225465737431222c2273746174654e616d65223a224744222c22636f756e7472794e616d65223a22434e222c22656d61696c223a227465737431403132362e636f6d222c2274797065223a312c22656e6f64654c697374223a5b7b227075626b6579223a2230783331643137376235623261626133396531633330366331623333383334643234356538356435373763343332366237363162373334323365636139303063616536366638376432333430633135356634303238353832303663396533656566653830376363323433616636323864623138363064393965373132653535343862222c226970223a223139322e3136382e31302e3335222c22706f7274223a223130303031227d5d2c22726f6c6549644c697374223a5b5d2c2266696c6549644c697374223a5b5d7d000000000000"
        }
        var retRlp = "F901FA808504E3B292008502540BE3FF941176FD5DC45001002EB2B893E5EF7C488475640780B901D4B1498E290000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000018A7B226964223A227371732D31222C226E616D65223A22535153222C22706172656E744964223A2261646D696E222C226465736372697074696F6E223A22626C6F636B636861696E20706C6174222C22636F6D6D6F6E4E616D65223A225465737431222C2273746174654E616D65223A224744222C22636F756E7472794E616D65223A22434E222C22656D61696C223A227465737431403132362E636F6D222C2274797065223A312C22656E6F64654C697374223A5B7B227075626B6579223A2230783331643137376235623261626133396531633330366331623333383334643234356538356435373763343332366237363162373334323365636139303063616536366638376432333430633135356634303238353832303663396533656566653830376363323433616636323864623138363064393965373132653535343862222C226970223A223139322E3136382E31302E3335222C22706F7274223A223130303031227D5D2C22726F6C6549644C697374223A5B5D2C2266696C6549644C697374223A5B5D7D000000000000";
        util.rlp(rawTx, function (err, rlpMsg) {
            expect(err).to.be.equal(0);
            expect(rlpMsg).to.equal(retRlp);
            done();
        })
    });

})